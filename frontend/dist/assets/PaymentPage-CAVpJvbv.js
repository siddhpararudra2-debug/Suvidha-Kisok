import{c as j,j as e,u as K,a as O,a3 as _,b as X,r as l,n as J,B as a,C as A,T as t,o as R,D as p,e as x,I as Z,d as ee,A as te,f as se,g as h,a4 as ae}from"./index-D3Q8_CVY.js";import{m as ie}from"./proxy-Dexb2hL4.js";import{C as g,a as f}from"./CardContent-DBEx5S_x.js";import{C as ne}from"./CheckCircle-BmgBdSR9.js";import{G as i}from"./Grid2-DyvTBxgu.js";import{D as re}from"./Download-By7Gx5kw.js";import{A as oe}from"./ArrowBack-L9cGB-QK.js";import{R as ce,a as le}from"./RadioGroup-Bqq5vh7R.js";import{F as de}from"./FormGroup-bWfKEnwe.js";import{T as u}from"./TextField-D5vDBlY2.js";import{I as B}from"./InputAdornment-Cr7hzTOu.js";import"./useFormControl-KwRITJHu.js";const D=j(e.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),N=j(e.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),xe=j(e.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2"),he=j(e.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"Share"),Pe=()=>{const{t:c}=K(),C=O(),H=_(),d=X(),n=H.state||{billId:"BILL-001",billNumber:"ELEC-2026-001",amount:2847,type:"electricity",consumerId:"123456789"},[o,I]=l.useState("qr"),[y,M]=l.useState(""),[z,W]=l.useState(""),[L,U]=l.useState(""),[T,V]=l.useState(""),[P,E]=l.useState(""),[m,k]=l.useState(!1),[$,F]=l.useState(!1),[r,Y]=l.useState(null),q=[{id:"upi",label:c("payment.upi"),icon:e.jsx(N,{}),description:"Pay via UPI apps"},{id:"card",label:c("payment.cards"),icon:e.jsx(D,{}),description:"Credit/Debit Card"},{id:"netbanking",label:c("payment.netBanking"),icon:e.jsx(J,{}),description:"All major banks"},{id:"qr",label:c("payment.scanQr"),icon:e.jsx(xe,{}),description:"Scan & Pay"}],Q=["State Bank of India","HDFC Bank","ICICI Bank","Axis Bank","Bank of Baroda","Punjab National Bank","Kotak Mahindra Bank"],S=async()=>{if(o==="upi"&&!y.includes("@")){d(h({message:"Please enter valid UPI ID",severity:"error"}));return}if(o==="card"&&z.length<16){d(h({message:"Please enter valid card number",severity:"error"}));return}if(o==="netbanking"&&!P){d(h({message:"Please select a bank",severity:"error"}));return}k(!0),await new Promise(v=>setTimeout(v,3e3));const s={receiptNumber:`RCP-${Date.now().toString(36).toUpperCase()}`,transactionId:`TXN${Date.now()}`,billNumber:n.billNumber,consumerId:n.consumerId,amount:n.amount,convenienceFee:0,totalPaid:n.amount,paymentMethod:o.toUpperCase(),upiId:o==="upi"?y:void 0,paidAt:new Date().toLocaleString("en-IN"),status:"SUCCESS"};Y(s),k(!1),F(!0),d(ae({billId:n.billId,status:"paid"})),d(h({message:"Payment successful!",severity:"success"}))},G=()=>{const s=`
SUVIDHA PAYMENT RECEIPT
=======================
Receipt No: ${r.receiptNumber}
Transaction ID: ${r.transactionId}
Date: ${r.paidAt}

Bill Number: ${r.billNumber}
Consumer ID: ${r.consumerId}
Amount Paid: â‚¹${r.totalPaid}
Payment Method: ${r.paymentMethod}

Status: ${r.status}
=======================
Thank you for using SUVIDHA!
    `,v=new Blob([s],{type:"text/plain"}),w=URL.createObjectURL(v),b=document.createElement("a");b.href=w,b.download=`SUVIDHA_Receipt_${r.receiptNumber}.txt`,b.click(),URL.revokeObjectURL(w),d(h({message:"Receipt downloaded!",severity:"success"}))};return $&&r?e.jsx(a,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #34a853 0%, #1e8e3e 100%)",py:4},children:e.jsx(A,{maxWidth:"sm",children:e.jsx(ie.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(g,{elevation:8,sx:{borderRadius:4,overflow:"visible"},children:[e.jsx(a,{sx:{display:"flex",justifyContent:"center",mt:-5},children:e.jsx(a,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:"success.main",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(52, 168, 83, 0.4)"},children:e.jsx(ne,{sx:{fontSize:48,color:"white"}})})}),e.jsxs(f,{sx:{p:4,textAlign:"center"},children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,color:"success.main",mb:1},children:c("payment.success")}),e.jsx(t,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Your payment has been processed successfully"}),e.jsx(R,{variant:"outlined",sx:{p:3,borderRadius:2,mb:3},children:e.jsxs(i,{container:!0,spacing:2,children:[e.jsxs(i,{size:{xs:6},children:[e.jsx(t,{variant:"caption",color:"text.secondary",children:"Amount Paid"}),e.jsxs(t,{variant:"h5",sx:{fontWeight:700,color:"success.main"},children:["â‚¹",r.totalPaid.toLocaleString("en-IN")]})]}),e.jsxs(i,{size:{xs:6},children:[e.jsx(t,{variant:"caption",color:"text.secondary",children:"Transaction ID"}),e.jsx(t,{variant:"body2",sx:{fontWeight:600},children:r.transactionId})]}),e.jsx(i,{size:{xs:12},children:e.jsx(p,{sx:{my:1}})}),e.jsxs(i,{size:{xs:6},children:[e.jsx(t,{variant:"caption",color:"text.secondary",children:"Bill Number"}),e.jsx(t,{variant:"body2",children:r.billNumber})]}),e.jsxs(i,{size:{xs:6},children:[e.jsx(t,{variant:"caption",color:"text.secondary",children:"Payment Method"}),e.jsx(t,{variant:"body2",children:r.paymentMethod})]}),e.jsxs(i,{size:{xs:12},children:[e.jsx(t,{variant:"caption",color:"text.secondary",children:"Date & Time"}),e.jsx(t,{variant:"body2",children:r.paidAt})]})]})}),e.jsxs(a,{sx:{display:"flex",gap:2,mb:3},children:[e.jsx(x,{variant:"outlined",startIcon:e.jsx(re,{}),onClick:G,sx:{flex:1,minHeight:48},children:c("payment.receipt")}),e.jsx(x,{variant:"outlined",startIcon:e.jsx(he,{}),sx:{flex:1,minHeight:48},children:"Share"})]}),e.jsx(x,{variant:"contained",fullWidth:!0,onClick:()=>C("/dashboard"),sx:{minHeight:56},children:"Back to Dashboard"})]})]})})})}):e.jsx(a,{sx:{minHeight:"100vh",bgcolor:"background.default",py:3},children:e.jsxs(A,{maxWidth:"md",children:[e.jsx(Z,{onClick:()=>C(-1),sx:{mb:2},children:e.jsx(oe,{})}),e.jsx(t,{variant:"h4",sx:{fontWeight:700,mb:3},children:c("payment.title")}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{size:{xs:12,md:5},children:e.jsx(g,{sx:{borderRadius:2,position:"sticky",top:100},children:e.jsxs(f,{children:[e.jsx(t,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Bill Summary"}),e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(ee,{label:n.type.charAt(0).toUpperCase()+n.type.slice(1),color:n.type==="electricity"?"warning":n.type==="gas"?"error":"primary",size:"small"}),e.jsx(t,{variant:"body2",color:"text.secondary",children:n.billNumber})]}),e.jsx(p,{sx:{my:2}}),e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(t,{color:"text.secondary",children:"Bill Amount"}),e.jsxs(t,{children:["â‚¹",n.amount.toLocaleString("en-IN")]})]}),e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(t,{color:"text.secondary",children:"Convenience Fee"}),e.jsx(t,{sx:{color:"success.main"},children:"FREE"})]}),e.jsx(p,{sx:{my:2}}),e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600},children:"Total"}),e.jsxs(t,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:["â‚¹",n.amount.toLocaleString("en-IN")]})]})]})})}),e.jsx(i,{size:{xs:12,md:7},children:e.jsx(g,{sx:{borderRadius:2},children:e.jsxs(f,{children:[e.jsx(t,{variant:"subtitle2",sx:{fontWeight:600,mb:3},children:c("payment.selectMethod")}),e.jsx(ce,{value:o,onChange:s=>I(s.target.value),children:q.map(s=>e.jsx(R,{variant:o===s.id?"elevation":"outlined",sx:{p:2,mb:2,borderRadius:2,cursor:"pointer",borderColor:o===s.id?"primary.main":"divider",borderWidth:o===s.id?2:1},onClick:()=>I(s.id),children:e.jsx(de,{value:s.id,control:e.jsx(le,{}),label:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2,ml:1},children:[e.jsx(a,{sx:{color:"primary.main"},children:s.icon}),e.jsxs(a,{children:[e.jsx(t,{sx:{fontWeight:600},children:s.label}),e.jsx(t,{variant:"caption",color:"text.secondary",children:s.description})]})]}),sx:{width:"100%",m:0}})},s.id))}),e.jsx(p,{sx:{my:3}}),o==="upi"&&e.jsx(u,{fullWidth:!0,label:c("payment.enterUpiId"),value:y,onChange:s=>M(s.target.value),placeholder:"yourname@upi",InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(N,{color:"primary"})})},sx:{mb:2}}),o==="card"&&e.jsxs(i,{container:!0,spacing:2,children:[e.jsx(i,{size:{xs:12},children:e.jsx(u,{fullWidth:!0,label:"Card Number",value:z,onChange:s=>W(s.target.value.replace(/\D/g,"").slice(0,16)),placeholder:"1234 5678 9012 3456",InputProps:{startAdornment:e.jsx(B,{position:"start",children:e.jsx(D,{color:"primary"})})}})}),e.jsx(i,{size:{xs:6},children:e.jsx(u,{fullWidth:!0,label:"Expiry",value:L,onChange:s=>U(s.target.value),placeholder:"MM/YY"})}),e.jsx(i,{size:{xs:6},children:e.jsx(u,{fullWidth:!0,label:"CVV",type:"password",value:T,onChange:s=>V(s.target.value.replace(/\D/g,"").slice(0,3)),placeholder:"***"})})]}),o==="netbanking"&&e.jsxs(a,{children:[e.jsx(t,{variant:"body2",sx:{mb:2},children:"Select Your Bank"}),e.jsx(i,{container:!0,spacing:1,children:Q.map(s=>e.jsx(i,{size:{xs:6},children:e.jsx(x,{variant:P===s?"contained":"outlined",fullWidth:!0,onClick:()=>E(s),sx:{justifyContent:"flex-start",py:1.5},children:s})},s))})]}),o==="qr"&&e.jsxs(a,{sx:{textAlign:"center",py:3},children:[e.jsx(a,{sx:{width:250,height:250,mx:"auto",mb:2,p:1,border:"2px solid",borderColor:"primary.main",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"white"},children:e.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(`upi://pay?pa=jasanidhruv@okicici&pn=SuvidhaKiosk&am=${n.amount}&cu=INR`)}`,alt:"Payment QR Code",style:{width:"100%",height:"100%"}})}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["Scan with any UPI app to pay ",e.jsx("strong",{children:c("payment.upi")})]}),e.jsx(t,{variant:"caption",display:"block",color:"text.secondary",sx:{mt:.5},children:"UPI ID: jasanidhruv@okicici"}),e.jsxs(t,{variant:"h5",sx:{fontWeight:700,mt:2,color:"primary.main"},children:["â‚¹",n.amount.toLocaleString("en-IN")]}),e.jsx(te,{severity:"info",sx:{mt:2,textAlign:"left"},children:e.jsx(t,{variant:"caption",children:"Complete the payment on your phone. The system will verify automatically."})}),e.jsx(x,{variant:"contained",color:"success",fullWidth:!0,size:"large",onClick:S,disabled:m,sx:{mt:2,minHeight:48},children:m?"Verifying...":"I Have Paid"})]}),e.jsx(x,{variant:"contained",fullWidth:!0,size:"large",onClick:S,disabled:m,sx:{mt:3,minHeight:56},children:m?e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(se,{size:24,color:"inherit"}),c("payment.processing")]}):`Pay â‚¹${n.amount.toLocaleString("en-IN")}`}),e.jsx(t,{variant:"caption",display:"block",textAlign:"center",sx:{mt:2},children:"ðŸ”’ Your payment is secured with end-to-end encryption"})]})})})]})]})})};export{Pe as default};
//# sourceMappingURL=PaymentPage-CAVpJvbv.js.map
