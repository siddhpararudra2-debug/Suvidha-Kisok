import{c as u,j as e,u as _,a as K,a3 as X,b as J,r as l,k as Z,B as n,T as s,m as w,D as p,d as x,I as ee,C as te,F as se,e as ne,f as h,a4 as ae}from"./index-DxYXDDfY.js";import{C as B}from"./Container-CRMR18uQ.js";import{m as ie}from"./proxy-DuVbaU2u.js";import{C as v,a as g}from"./CardContent-CW_JyCWS.js";import{C as re}from"./CheckCircle-CAvZq-IY.js";import{G as a}from"./Grid-CaZjAPnl.js";import{D as oe}from"./Download-mb4A03wJ.js";import{A as ce}from"./ArrowBack-B_7URu0z.js";import{R as le,a as de}from"./RadioGroup-BIWSie7w.js";import{T as m}from"./TextField-IsOlrCxa.js";import{I as D}from"./InputAdornment-jJ3aQSIk.js";import"./useThemeProps-5Il78IPa.js";import"./FormGroup-cNO2jWcP.js";import"./isMuiElement-BQNSQ9WZ.js";const A=u(e.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),R=u(e.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),N=u(e.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2"),xe=u(e.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"Share"),we=()=>{const{t:c}=_(),f=K(),M=X(),d=J(),r=M.state||{billId:"BILL-001",billNumber:"ELEC-2026-001",amount:2847,type:"electricity",consumerId:"123456789"},[o,C]=l.useState("upi"),[j,H]=l.useState(""),[I,W]=l.useState(""),[L,U]=l.useState(""),[T,E]=l.useState(""),[z,V]=l.useState(""),[S,P]=l.useState(!1),[$,F]=l.useState(!1),[i,Y]=l.useState(null),[he,pe]=l.useState(!1),Q=[{id:"upi",label:c("payment.upi"),icon:e.jsx(R,{}),description:"Pay via UPI apps"},{id:"card",label:c("payment.cards"),icon:e.jsx(A,{}),description:"Credit/Debit Card"},{id:"netbanking",label:c("payment.netBanking"),icon:e.jsx(Z,{}),description:"All major banks"},{id:"qr",label:c("payment.scanQr"),icon:e.jsx(N,{}),description:"Scan & Pay"}],G=["State Bank of India","HDFC Bank","ICICI Bank","Axis Bank","Bank of Baroda","Punjab National Bank","Kotak Mahindra Bank"],q=async()=>{if(o==="upi"&&!j.includes("@")){d(h({message:"Please enter valid UPI ID",severity:"error"}));return}if(o==="card"&&I.length<16){d(h({message:"Please enter valid card number",severity:"error"}));return}if(o==="netbanking"&&!z){d(h({message:"Please select a bank",severity:"error"}));return}P(!0),await new Promise(y=>setTimeout(y,3e3));const t={receiptNumber:`RCP-${Date.now().toString(36).toUpperCase()}`,transactionId:`TXN${Date.now()}`,billNumber:r.billNumber,consumerId:r.consumerId,amount:r.amount,convenienceFee:0,totalPaid:r.amount,paymentMethod:o.toUpperCase(),upiId:o==="upi"?j:void 0,paidAt:new Date().toLocaleString("en-IN"),status:"SUCCESS"};Y(t),P(!1),F(!0),d(ae({billId:r.billId,status:"paid"})),d(h({message:"Payment successful!",severity:"success"}))},O=()=>{const t=`
SUVIDHA PAYMENT RECEIPT
=======================
Receipt No: ${i.receiptNumber}
Transaction ID: ${i.transactionId}
Date: ${i.paidAt}

Bill Number: ${i.billNumber}
Consumer ID: ${i.consumerId}
Amount Paid: â‚¹${i.totalPaid}
Payment Method: ${i.paymentMethod}

Status: ${i.status}
=======================
Thank you for using SUVIDHA!
    `,y=new Blob([t],{type:"text/plain"}),k=URL.createObjectURL(y),b=document.createElement("a");b.href=k,b.download=`SUVIDHA_Receipt_${i.receiptNumber}.txt`,b.click(),URL.revokeObjectURL(k),d(h({message:"Receipt downloaded!",severity:"success"}))};return $&&i?e.jsx(n,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #34a853 0%, #1e8e3e 100%)",py:4},children:e.jsx(B,{maxWidth:"sm",children:e.jsx(ie.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(v,{elevation:8,sx:{borderRadius:4,overflow:"visible"},children:[e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:-5},children:e.jsx(n,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:"success.main",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(52, 168, 83, 0.4)"},children:e.jsx(re,{sx:{fontSize:48,color:"white"}})})}),e.jsxs(g,{sx:{p:4,textAlign:"center"},children:[e.jsx(s,{variant:"h4",sx:{fontWeight:700,color:"success.main",mb:1},children:c("payment.success")}),e.jsx(s,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Your payment has been processed successfully"}),e.jsx(w,{variant:"outlined",sx:{p:3,borderRadius:2,mb:3},children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsxs(a,{size:{xs:6},children:[e.jsx(s,{variant:"caption",color:"text.secondary",children:"Amount Paid"}),e.jsxs(s,{variant:"h5",sx:{fontWeight:700,color:"success.main"},children:["â‚¹",i.totalPaid.toLocaleString("en-IN")]})]}),e.jsxs(a,{size:{xs:6},children:[e.jsx(s,{variant:"caption",color:"text.secondary",children:"Transaction ID"}),e.jsx(s,{variant:"body2",sx:{fontWeight:600},children:i.transactionId})]}),e.jsx(a,{size:{xs:12},children:e.jsx(p,{sx:{my:1}})}),e.jsxs(a,{size:{xs:6},children:[e.jsx(s,{variant:"caption",color:"text.secondary",children:"Bill Number"}),e.jsx(s,{variant:"body2",children:i.billNumber})]}),e.jsxs(a,{size:{xs:6},children:[e.jsx(s,{variant:"caption",color:"text.secondary",children:"Payment Method"}),e.jsx(s,{variant:"body2",children:i.paymentMethod})]}),e.jsxs(a,{size:{xs:12},children:[e.jsx(s,{variant:"caption",color:"text.secondary",children:"Date & Time"}),e.jsx(s,{variant:"body2",children:i.paidAt})]})]})}),e.jsxs(n,{sx:{display:"flex",gap:2,mb:3},children:[e.jsx(x,{variant:"outlined",startIcon:e.jsx(oe,{}),onClick:O,sx:{flex:1,minHeight:48},children:c("payment.receipt")}),e.jsx(x,{variant:"outlined",startIcon:e.jsx(xe,{}),sx:{flex:1,minHeight:48},children:"Share"})]}),e.jsx(x,{variant:"contained",fullWidth:!0,onClick:()=>f("/dashboard"),sx:{minHeight:56},children:"Back to Dashboard"})]})]})})})}):e.jsx(n,{sx:{minHeight:"100vh",bgcolor:"background.default",py:3},children:e.jsxs(B,{maxWidth:"md",children:[e.jsx(ee,{onClick:()=>f(-1),sx:{mb:2},children:e.jsx(ce,{})}),e.jsx(s,{variant:"h4",sx:{fontWeight:700,mb:3},children:c("payment.title")}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{size:{xs:12,md:5},children:e.jsx(v,{sx:{borderRadius:2,position:"sticky",top:100},children:e.jsxs(g,{children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Bill Summary"}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(te,{label:r.type.charAt(0).toUpperCase()+r.type.slice(1),color:r.type==="electricity"?"warning":r.type==="gas"?"error":"primary",size:"small"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:r.billNumber})]}),e.jsx(p,{sx:{my:2}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(s,{color:"text.secondary",children:"Bill Amount"}),e.jsxs(s,{children:["â‚¹",r.amount.toLocaleString("en-IN")]})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(s,{color:"text.secondary",children:"Convenience Fee"}),e.jsx(s,{sx:{color:"success.main"},children:"FREE"})]}),e.jsx(p,{sx:{my:2}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(s,{variant:"h6",sx:{fontWeight:600},children:"Total"}),e.jsxs(s,{variant:"h5",sx:{fontWeight:700,color:"primary.main"},children:["â‚¹",r.amount.toLocaleString("en-IN")]})]})]})})}),e.jsx(a,{size:{xs:12,md:7},children:e.jsx(v,{sx:{borderRadius:2},children:e.jsxs(g,{children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:600,mb:3},children:c("payment.selectMethod")}),e.jsx(le,{value:o,onChange:t=>C(t.target.value),children:Q.map(t=>e.jsx(w,{variant:o===t.id?"elevation":"outlined",sx:{p:2,mb:2,borderRadius:2,cursor:"pointer",borderColor:o===t.id?"primary.main":"divider",borderWidth:o===t.id?2:1},onClick:()=>C(t.id),children:e.jsx(se,{value:t.id,control:e.jsx(de,{}),label:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,ml:1},children:[e.jsx(n,{sx:{color:"primary.main"},children:t.icon}),e.jsxs(n,{children:[e.jsx(s,{sx:{fontWeight:600},children:t.label}),e.jsx(s,{variant:"caption",color:"text.secondary",children:t.description})]})]}),sx:{width:"100%",m:0}})},t.id))}),e.jsx(p,{sx:{my:3}}),o==="upi"&&e.jsx(m,{fullWidth:!0,label:c("payment.enterUpiId"),value:j,onChange:t=>H(t.target.value),placeholder:"yourname@upi",InputProps:{startAdornment:e.jsx(D,{position:"start",children:e.jsx(R,{color:"primary"})})},sx:{mb:2}}),o==="card"&&e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{size:{xs:12},children:e.jsx(m,{fullWidth:!0,label:"Card Number",value:I,onChange:t=>W(t.target.value.replace(/\D/g,"").slice(0,16)),placeholder:"1234 5678 9012 3456",InputProps:{startAdornment:e.jsx(D,{position:"start",children:e.jsx(A,{color:"primary"})})}})}),e.jsx(a,{size:{xs:6},children:e.jsx(m,{fullWidth:!0,label:"Expiry",value:L,onChange:t=>U(t.target.value),placeholder:"MM/YY"})}),e.jsx(a,{size:{xs:6},children:e.jsx(m,{fullWidth:!0,label:"CVV",type:"password",value:T,onChange:t=>E(t.target.value.replace(/\D/g,"").slice(0,3)),placeholder:"***"})})]}),o==="netbanking"&&e.jsxs(n,{children:[e.jsx(s,{variant:"body2",sx:{mb:2},children:"Select Your Bank"}),e.jsx(a,{container:!0,spacing:1,children:G.map(t=>e.jsx(a,{size:{xs:6},children:e.jsx(x,{variant:z===t?"contained":"outlined",fullWidth:!0,onClick:()=>V(t),sx:{justifyContent:"flex-start",py:1.5},children:t})},t))})]}),o==="qr"&&e.jsxs(n,{sx:{textAlign:"center",py:3},children:[e.jsx(n,{sx:{width:200,height:200,mx:"auto",mb:2,p:2,border:"2px solid",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"white"},children:e.jsx(N,{sx:{fontSize:150,color:"text.primary"}})}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Scan with any UPI app to pay"}),e.jsxs(s,{variant:"h5",sx:{fontWeight:700,mt:1},children:["â‚¹",r.amount.toLocaleString("en-IN")]})]}),e.jsx(x,{variant:"contained",fullWidth:!0,size:"large",onClick:q,disabled:S,sx:{mt:3,minHeight:56},children:S?e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(ne,{size:24,color:"inherit"}),c("payment.processing")]}):`Pay â‚¹${r.amount.toLocaleString("en-IN")}`}),e.jsx(s,{variant:"caption",display:"block",textAlign:"center",sx:{mt:2},children:"ðŸ”’ Your payment is secured with end-to-end encryption"})]})})})]})]})})};export{we as default};
//# sourceMappingURL=PaymentPage-CfCpGQeJ.js.map
