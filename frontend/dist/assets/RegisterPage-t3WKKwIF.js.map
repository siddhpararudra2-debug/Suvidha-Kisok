{"version":3,"file":"RegisterPage-t3WKKwIF.js","sources":["../../src/pages/auth/RegisterPage.tsx"],"sourcesContent":["import { useState, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n    Box,\r\n    Container,\r\n    Typography,\r\n    Card,\r\n    CardContent,\r\n    TextField,\r\n    Button,\r\n    Stepper,\r\n    Step,\r\n    StepLabel,\r\n    InputAdornment,\r\n    CircularProgress,\r\n    Alert,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    Grid,\r\n    Chip,\r\n    IconButton,\r\n} from '@mui/material';\r\nimport {\r\n    Person,\r\n    Phone,\r\n    Email,\r\n    Home,\r\n    Fingerprint,\r\n    Lock,\r\n    ArrowBack,\r\n    Check,\r\n    ElectricBolt,\r\n    LocalGasStation,\r\n    WaterDrop,\r\n} from '@mui/icons-material';\r\nimport { loginSuccess, loginStart } from '../../store/slices/authSlice';\r\nimport { showNotification } from '../../store/slices/uiSlice';\r\nimport { AppDispatch } from '../../store';\r\n\r\nconst RegisterPage = () => {\r\n    const { t } = useTranslation();\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch<AppDispatch>();\r\n\r\n    const [activeStep, setActiveStep] = useState(0);\r\n    const [loading, setLoading] = useState(false);\r\n    const [otpSent, setOtpSent] = useState(false);\r\n\r\n    // Form data\r\n    const [formData, setFormData] = useState({\r\n        fullName: '',\r\n        mobile: '',\r\n        email: '',\r\n        aadhaar: '',\r\n        otp: '',\r\n        address: '',\r\n        city: 'Mumbai',\r\n        pincode: '',\r\n        // Optional existing connections\r\n        electricityId: '',\r\n        gasId: '',\r\n        waterId: '',\r\n    });\r\n\r\n    const steps = ['Personal Details', 'Verify Mobile', 'Link Connections'];\r\n\r\n    const handleChange = (field: string) => (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        let value = e.target.value;\r\n\r\n        // Format specific fields\r\n        if (field === 'mobile') {\r\n            value = value.replace(/\\D/g, '').slice(0, 10);\r\n        } else if (field === 'aadhaar') {\r\n            const digits = value.replace(/\\D/g, '').slice(0, 12);\r\n            value = digits.replace(/(\\d{4})(?=\\d)/g, '$1 ');\r\n        } else if (field === 'pincode') {\r\n            value = value.replace(/\\D/g, '').slice(0, 6);\r\n        } else if (field === 'otp') {\r\n            value = value.replace(/\\D/g, '').slice(0, 6);\r\n        }\r\n\r\n        setFormData((prev) => ({ ...prev, [field]: value }));\r\n    };\r\n\r\n    const handleSendOtp = async () => {\r\n        if (formData.mobile.length !== 10) {\r\n            dispatch(showNotification({ message: 'Please enter valid mobile number', severity: 'error' }));\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        await new Promise((resolve) => setTimeout(resolve, 1500));\r\n        setLoading(false);\r\n        setOtpSent(true);\r\n        dispatch(showNotification({ message: 'OTP sent to your mobile', severity: 'success' }));\r\n    };\r\n\r\n    const handleVerifyOtp = async () => {\r\n        if (formData.otp.length !== 6) {\r\n            dispatch(showNotification({ message: 'Please enter 6-digit OTP', severity: 'error' }));\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        await new Promise((resolve) => setTimeout(resolve, 1000));\r\n        setLoading(false);\r\n        setActiveStep(2);\r\n    };\r\n\r\n    const handleCompleteRegistration = async () => {\r\n        setLoading(true);\r\n        dispatch(loginStart());\r\n\r\n        await new Promise((resolve) => setTimeout(resolve, 2000));\r\n\r\n        // Create new user and login\r\n        const connections: any = {};\r\n        if (formData.electricityId) connections.electricity = [formData.electricityId];\r\n        if (formData.gasId) connections.gas = [formData.gasId];\r\n        if (formData.waterId) connections.water = [formData.waterId];\r\n\r\n        dispatch(\r\n            loginSuccess({\r\n                user: {\r\n                    id: `USR${Date.now()}`,\r\n                    name: formData.fullName,\r\n                    mobile: `+91-${formData.mobile}`,\r\n                    email: formData.email,\r\n                    aadhaarMasked: formData.aadhaar ? `XXXX-XXXX-${formData.aadhaar.slice(-4)}` : undefined,\r\n                    address: `${formData.address}, ${formData.city} - ${formData.pincode}`,\r\n                    connections,\r\n                },\r\n                token: 'new-user-token',\r\n                refreshToken: 'new-refresh-token',\r\n                expiresIn: 900,\r\n            })\r\n        );\r\n\r\n        setLoading(false);\r\n        dispatch(showNotification({ message: 'Registration successful! Welcome to SUVIDHA', severity: 'success' }));\r\n        navigate('/dashboard');\r\n    };\r\n\r\n    const isStep1Valid = formData.fullName.length >= 2 && formData.mobile.length === 10;\r\n    const isStep2Valid = formData.otp.length === 6;\r\n\r\n    return (\r\n        <Box\r\n            sx={{\r\n                minHeight: '100vh',\r\n                background: 'linear-gradient(135deg, #34a853 0%, #1e8e3e 100%)',\r\n                py: 4,\r\n            }}\r\n        >\r\n            <Container maxWidth=\"md\">\r\n                {/* Back Button */}\r\n                <IconButton\r\n                    onClick={() => navigate('/login')}\r\n                    sx={{ mb: 2, backgroundColor: 'white', boxShadow: 1 }}\r\n                >\r\n                    <ArrowBack />\r\n                </IconButton>\r\n\r\n                {/* Header */}\r\n                <motion.div\r\n                    initial={{ opacity: 0, y: -20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ duration: 0.5 }}\r\n                >\r\n                    <Box sx={{ textAlign: 'center', mb: 4 }}>\r\n                        <Box\r\n                            sx={{\r\n                                display: 'inline-flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                width: 80,\r\n                                height: 80,\r\n                                borderRadius: '50%',\r\n                                background: 'white',\r\n                                boxShadow: '0 8px 32px rgba(0, 0, 0, 0.2)',\r\n                                mb: 2,\r\n                            }}\r\n                        >\r\n                            <Typography variant=\"h3\" sx={{ color: 'success.main', fontWeight: 700 }}>\r\n                                S\r\n                            </Typography>\r\n                        </Box>\r\n                        <Typography variant=\"h4\" sx={{ fontWeight: 700, color: 'white' }}>\r\n                            Create Your Account\r\n                        </Typography>\r\n                        <Typography variant=\"body1\" sx={{ color: 'rgba(255,255,255,0.9)', mt: 1 }}>\r\n                            Register to access all civic services\r\n                        </Typography>\r\n                    </Box>\r\n                </motion.div>\r\n\r\n                {/* Registration Card */}\r\n                <motion.div\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: 0.2, duration: 0.5 }}\r\n                >\r\n                    <Card elevation={8} sx={{ borderRadius: 4 }}>\r\n                        <CardContent sx={{ p: 4 }}>\r\n                            <Stepper activeStep={activeStep} sx={{ mb: 4 }}>\r\n                                {steps.map((label, index) => (\r\n                                    <Step key={label} completed={activeStep > index}>\r\n                                        <StepLabel>{label}</StepLabel>\r\n                                    </Step>\r\n                                ))}\r\n                            </Stepper>\r\n\r\n                            {/* Step 1: Personal Details */}\r\n                            {activeStep === 0 && (\r\n                                <Box>\r\n                                    <Grid container spacing={3}>\r\n                                        <Grid size={{ xs: 12 }}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Full Name\"\r\n                                                value={formData.fullName}\r\n                                                onChange={handleChange('fullName')}\r\n                                                InputProps={{\r\n                                                    startAdornment: (\r\n                                                        <InputAdornment position=\"start\">\r\n                                                            <Person color=\"primary\" />\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                }}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid size={{ xs: 12, sm: 6 }}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Mobile Number\"\r\n                                                value={formData.mobile}\r\n                                                onChange={handleChange('mobile')}\r\n                                                placeholder=\"10-digit mobile\"\r\n                                                InputProps={{\r\n                                                    startAdornment: (\r\n                                                        <InputAdornment position=\"start\">\r\n                                                            <Phone color=\"primary\" />\r\n                                                            <Typography sx={{ ml: 0.5 }}>+91</Typography>\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                }}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid size={{ xs: 12, sm: 6 }}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Email (Optional)\"\r\n                                                type=\"email\"\r\n                                                value={formData.email}\r\n                                                onChange={handleChange('email')}\r\n                                                InputProps={{\r\n                                                    startAdornment: (\r\n                                                        <InputAdornment position=\"start\">\r\n                                                            <Email color=\"primary\" />\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                }}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid size={{ xs: 12 }}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Aadhaar Number (Optional but recommended)\"\r\n                                                value={formData.aadhaar}\r\n                                                onChange={handleChange('aadhaar')}\r\n                                                placeholder=\"XXXX XXXX XXXX\"\r\n                                                InputProps={{\r\n                                                    startAdornment: (\r\n                                                        <InputAdornment position=\"start\">\r\n                                                            <Fingerprint color=\"primary\" />\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                }}\r\n                                                helperText=\"Link Aadhaar for faster verification\"\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid size={{ xs: 12 }}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Address\"\r\n                                                value={formData.address}\r\n                                                onChange={handleChange('address')}\r\n                                                multiline\r\n                                                rows={2}\r\n                                                InputProps={{\r\n                                                    startAdornment: (\r\n                                                        <InputAdornment position=\"start\">\r\n                                                            <Home color=\"primary\" />\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                }}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid size={{ xs: 12, sm: 6 }}>\r\n                                            <FormControl fullWidth>\r\n                                                <InputLabel>City</InputLabel>\r\n                                                <Select\r\n                                                    value={formData.city}\r\n                                                    label=\"City\"\r\n                                                    onChange={(e) => setFormData((prev) => ({ ...prev, city: e.target.value }))}\r\n                                                >\r\n                                                    <MenuItem value=\"Mumbai\">Mumbai</MenuItem>\r\n                                                    <MenuItem value=\"Delhi\">Delhi</MenuItem>\r\n                                                    <MenuItem value=\"Bangalore\">Bangalore</MenuItem>\r\n                                                    <MenuItem value=\"Chennai\">Chennai</MenuItem>\r\n                                                    <MenuItem value=\"Kolkata\">Kolkata</MenuItem>\r\n                                                    <MenuItem value=\"Pune\">Pune</MenuItem>\r\n                                                    <MenuItem value=\"Ahmedabad\">Ahmedabad</MenuItem>\r\n                                                </Select>\r\n                                            </FormControl>\r\n                                        </Grid>\r\n                                        <Grid size={{ xs: 12, sm: 6 }}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Pincode\"\r\n                                                value={formData.pincode}\r\n                                                onChange={handleChange('pincode')}\r\n                                                placeholder=\"6-digit pincode\"\r\n                                            />\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Button\r\n                                        fullWidth\r\n                                        variant=\"contained\"\r\n                                        size=\"large\"\r\n                                        onClick={() => setActiveStep(1)}\r\n                                        disabled={!isStep1Valid}\r\n                                        sx={{ mt: 4, minHeight: 56 }}\r\n                                    >\r\n                                        Continue\r\n                                    </Button>\r\n                                </Box>\r\n                            )}\r\n\r\n                            {/* Step 2: Verify Mobile */}\r\n                            {activeStep === 1 && (\r\n                                <Box>\r\n                                    <Alert severity=\"info\" sx={{ mb: 3 }}>\r\n                                        We'll send an OTP to verify your mobile number: <strong>+91-{formData.mobile}</strong>\r\n                                    </Alert>\r\n\r\n                                    {!otpSent ? (\r\n                                        <Button\r\n                                            fullWidth\r\n                                            variant=\"contained\"\r\n                                            size=\"large\"\r\n                                            onClick={handleSendOtp}\r\n                                            disabled={loading}\r\n                                            sx={{ minHeight: 56 }}\r\n                                        >\r\n                                            {loading ? <CircularProgress size={24} /> : 'Send OTP'}\r\n                                        </Button>\r\n                                    ) : (\r\n                                        <>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Enter 6-digit OTP\"\r\n                                                value={formData.otp}\r\n                                                onChange={handleChange('otp')}\r\n                                                placeholder=\"------\"\r\n                                                InputProps={{\r\n                                                    startAdornment: (\r\n                                                        <InputAdornment position=\"start\">\r\n                                                            <Lock color=\"primary\" />\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                }}\r\n                                                sx={{ mb: 3 }}\r\n                                            />\r\n                                            <Box sx={{ display: 'flex', gap: 2 }}>\r\n                                                <Button\r\n                                                    variant=\"outlined\"\r\n                                                    onClick={() => setOtpSent(false)}\r\n                                                    sx={{ flex: 1, minHeight: 48 }}\r\n                                                >\r\n                                                    Resend OTP\r\n                                                </Button>\r\n                                                <Button\r\n                                                    variant=\"contained\"\r\n                                                    onClick={handleVerifyOtp}\r\n                                                    disabled={!isStep2Valid || loading}\r\n                                                    sx={{ flex: 2, minHeight: 48 }}\r\n                                                >\r\n                                                    {loading ? <CircularProgress size={24} /> : 'Verify & Continue'}\r\n                                                </Button>\r\n                                            </Box>\r\n                                        </>\r\n                                    )}\r\n\r\n                                    <Button\r\n                                        fullWidth\r\n                                        variant=\"text\"\r\n                                        onClick={() => setActiveStep(0)}\r\n                                        sx={{ mt: 2 }}\r\n                                    >\r\n                                        ‚Üê Back to Details\r\n                                    </Button>\r\n                                </Box>\r\n                            )}\r\n\r\n                            {/* Step 3: Link Connections */}\r\n                            {activeStep === 2 && (\r\n                                <Box>\r\n                                    <Alert severity=\"success\" sx={{ mb: 3 }}>\r\n                                        <Check sx={{ mr: 1 }} /> Mobile verified successfully!\r\n                                    </Alert>\r\n\r\n                                    <Typography variant=\"subtitle1\" sx={{ mb: 2, fontWeight: 600 }}>\r\n                                        Link Your Existing Connections (Optional)\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                                        You can add these later from your dashboard\r\n                                    </Typography>\r\n\r\n                                    <Grid container spacing={3}>\r\n                                        <Grid size={{ xs: 12 }}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Electricity Consumer ID\"\r\n                                                value={formData.electricityId}\r\n                                                onChange={handleChange('electricityId')}\r\n                                                InputProps={{\r\n                                                    startAdornment: (\r\n                                                        <InputAdornment position=\"start\">\r\n                                                            <ElectricBolt sx={{ color: '#fbbc04' }} />\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                }}\r\n                                                placeholder=\"Found on your electricity bill\"\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid size={{ xs: 12 }}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Gas BP Number\"\r\n                                                value={formData.gasId}\r\n                                                onChange={handleChange('gasId')}\r\n                                                InputProps={{\r\n                                                    startAdornment: (\r\n                                                        <InputAdornment position=\"start\">\r\n                                                            <LocalGasStation sx={{ color: '#ea4335' }} />\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                }}\r\n                                                placeholder=\"Found on your gas bill\"\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid size={{ xs: 12 }}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Water Connection ID\"\r\n                                                value={formData.waterId}\r\n                                                onChange={handleChange('waterId')}\r\n                                                InputProps={{\r\n                                                    startAdornment: (\r\n                                                        <InputAdornment position=\"start\">\r\n                                                            <WaterDrop sx={{ color: '#1a73e8' }} />\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                }}\r\n                                                placeholder=\"Found on your water bill\"\r\n                                            />\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Box sx={{ display: 'flex', gap: 2, mt: 4 }}>\r\n                                        <Button\r\n                                            variant=\"outlined\"\r\n                                            onClick={() => setActiveStep(1)}\r\n                                            sx={{ flex: 1, minHeight: 48 }}\r\n                                        >\r\n                                            Back\r\n                                        </Button>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            color=\"success\"\r\n                                            onClick={handleCompleteRegistration}\r\n                                            disabled={loading}\r\n                                            sx={{ flex: 2, minHeight: 56 }}\r\n                                        >\r\n                                            {loading ? <CircularProgress size={24} /> : 'Complete Registration'}\r\n                                        </Button>\r\n                                    </Box>\r\n                                </Box>\r\n                            )}\r\n                        </CardContent>\r\n                    </Card>\r\n                </motion.div>\r\n            </Container>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default RegisterPage;\r\n"],"names":["RegisterPage","t","useTranslation","navigate","useNavigate","dispatch","useDispatch","activeStep","setActiveStep","useState","loading","setLoading","otpSent","setOtpSent","formData","setFormData","steps","handleChange","field","e","value","prev","handleSendOtp","showNotification","resolve","handleVerifyOtp","handleCompleteRegistration","loginStart","connections","loginSuccess","isStep1Valid","isStep2Valid","jsx","Box","jsxs","Container","IconButton","ArrowBack","motion","Typography","Card","CardContent","Stepper","label","index","Step","StepLabel","Grid","TextField","InputAdornment","Person","Phone","Email","Fingerprint","Home","FormControl","InputLabel","Select","MenuItem","Button","Alert","Fragment","Lock","CircularProgress","Check","ElectricBolt","LocalGasStation","WaterDrop"],"mappings":"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"}