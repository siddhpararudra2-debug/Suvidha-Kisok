import{c as O,j as e,u as E,a as N,b as _,r as i,B as l,I as $,T as n,A as w,d as r,e as b,D as q,f as J,g as X,h as P}from"./index-BfGh8QLT.js";import{C as K}from"./Container-DOgHEYqS.js";import{A as Q}from"./ArrowBack-Pq6Su-kX.js";import{m as I}from"./proxy-DjJ2QW0S.js";import{C as Y,a as Z}from"./CardContent-Nl7EhxCH.js";import{T as ee,a as f}from"./Tabs-B5GiNMs8.js";import{F as W,L as te}from"./Lock-DQNqKwVh.js";import{T as x}from"./TextField-lhRYzYyO.js";import{I as u}from"./InputAdornment-4fRmf37d.js";import{P as se}from"./Phone-Wnh8sjMS.js";import{P as ae}from"./Person-CNJys8Pg.js";import"./useThemeProps-BziJso1U.js";import"./useFormControl-j45SXtBs.js";const H=O(e.jsx("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet"),z=O(e.jsx("path",{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2M9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12m3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5zm1-9h-2V4h2zm5 7.5h-4V15h4zm0-3h-4V12h4z"}),"Badge"),v=({children:t,value:c,index:a})=>e.jsx("div",{role:"tabpanel",hidden:c!==a,children:c===a&&e.jsx(l,{sx:{pt:3},children:t})}),je=()=>{const{t}=E(),c=N(),a=_(),[h,D]=i.useState(0),[o,d]=i.useState(!1),[y,m]=i.useState(""),[V,g]=i.useState(!1),[S,B]=i.useState(""),[k,L]=i.useState(""),[C,M]=i.useState(""),[p,G]=i.useState(""),R=s=>s.replace(/\D/g,"").slice(0,12).replace(/(\d{4})(?=\d)/g,"$1 "),F=s=>{B(R(s.target.value))},j=async()=>{d(!0),m(""),await new Promise(s=>setTimeout(s,1500)),d(!1),g(!0),a(J({message:t("auth.otpSent"),severity:"success"}))},A=async()=>{if(p.length!==6){m("Please enter a valid 6-digit OTP");return}d(!0),a(X()),await new Promise(s=>setTimeout(s,1500)),a(P({user:{id:"USR001",name:"Priya Sharma",mobile:"+91-9876543210",email:"priya@example.com",aadhaarMasked:"XXXX-XXXX-1234",address:"14/A, MG Road, Mumbai - 400001",connections:{electricity:["123456789"],gas:["G987654"],water:["W123456"]}},token:"mock-jwt-token",refreshToken:"mock-refresh-token",expiresIn:900})),d(!1),c("/dashboard")},U=async()=>{d(!0),a(X()),await new Promise(s=>setTimeout(s,1e3)),a(P({user:{id:"GUEST",name:"Guest User",mobile:"",connections:{}},token:"guest-token",refreshToken:"guest-refresh",expiresIn:300,isGuest:!0})),d(!1),c("/dashboard")};return e.jsx(l,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",py:4},children:e.jsxs(K,{maxWidth:"sm",children:[e.jsx($,{onClick:()=>c("/"),sx:{mb:2,backgroundColor:"white",boxShadow:1},children:e.jsx(Q,{})}),e.jsx(I.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(l,{sx:{textAlign:"center",mb:4},children:[e.jsx(l,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:"50%",background:"linear-gradient(135deg, #1a73e8 0%, #34a853 100%)",boxShadow:"0 8px 32px rgba(26, 115, 232, 0.3)",mb:2},children:e.jsx(n,{variant:"h3",sx:{color:"white",fontWeight:700},children:"S"})}),e.jsx(n,{variant:"h4",sx:{fontWeight:700,color:"primary.main"},children:"SUVIDHA"})]})}),e.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:e.jsx(Y,{elevation:4,sx:{borderRadius:4},children:e.jsxs(Z,{sx:{p:4},children:[e.jsx(n,{variant:"h5",align:"center",sx:{mb:1,fontWeight:600},children:t("auth.loginTitle")}),e.jsx(n,{variant:"body2",align:"center",color:"text.secondary",sx:{mb:3},children:t("auth.loginSubtitle")}),y&&e.jsx(w,{severity:"error",sx:{mb:2},children:y}),e.jsxs(ee,{value:h,onChange:(s,T)=>{D(T),g(!1),m("")},variant:"fullWidth",sx:{borderBottom:1,borderColor:"divider"},children:[e.jsx(f,{icon:e.jsx(W,{}),label:"Aadhaar",sx:{minHeight:72}}),e.jsx(f,{icon:e.jsx(z,{}),label:"Consumer ID",sx:{minHeight:72}}),e.jsx(f,{icon:e.jsx(H,{}),label:"DigiLocker",sx:{minHeight:72}})]}),e.jsx(v,{value:h,index:0,children:V?e.jsxs(e.Fragment,{children:[e.jsx(w,{severity:"info",sx:{mb:3},children:t("auth.otpSent")}),e.jsx(x,{fullWidth:!0,label:t("auth.enterOtp"),value:p,onChange:s=>G(s.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"------",InputProps:{startAdornment:e.jsx(u,{position:"start",children:e.jsx(te,{color:"primary"})})},sx:{mb:2}}),e.jsxs(l,{sx:{display:"flex",gap:2},children:[e.jsx(r,{variant:"outlined",onClick:()=>g(!1),sx:{flex:1,minHeight:48},children:t("common.back")}),e.jsx(r,{variant:"contained",onClick:A,disabled:p.length!==6||o,sx:{flex:2,minHeight:48},children:o?e.jsx(b,{size:24}):t("auth.verifyOtp")})]}),e.jsx(r,{fullWidth:!0,variant:"text",sx:{mt:2},onClick:j,children:t("auth.resendOtp")})]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{fullWidth:!0,label:t("auth.enterAadhaar"),value:S,onChange:F,placeholder:"XXXX XXXX XXXX",InputProps:{startAdornment:e.jsx(u,{position:"start",children:e.jsx(W,{color:"primary"})})},sx:{mb:3}}),e.jsx(r,{fullWidth:!0,variant:"contained",size:"large",onClick:j,disabled:S.replace(/\s/g,"").length!==12||o,sx:{minHeight:56},children:o?e.jsx(b,{size:24}):"Send OTP"})]})}),e.jsxs(v,{value:h,index:1,children:[e.jsx(x,{fullWidth:!0,label:t("auth.enterConsumerId"),value:k,onChange:s=>L(s.target.value),InputProps:{startAdornment:e.jsx(u,{position:"start",children:e.jsx(z,{color:"primary"})})},sx:{mb:2}}),e.jsx(x,{fullWidth:!0,label:t("auth.enterMobile"),value:C,onChange:s=>M(s.target.value.replace(/\D/g,"").slice(0,10)),InputProps:{startAdornment:e.jsx(u,{position:"start",children:e.jsx(se,{color:"primary"})})},sx:{mb:3}}),e.jsx(r,{fullWidth:!0,variant:"contained",size:"large",onClick:j,disabled:!k||C.length!==10||o,sx:{minHeight:56},children:o?e.jsx(b,{size:24}):"Send OTP"})]}),e.jsx(v,{value:h,index:2,children:e.jsxs(l,{sx:{textAlign:"center",py:3},children:[e.jsx(H,{sx:{fontSize:64,color:"primary.main",mb:2}}),e.jsx(n,{variant:"body1",sx:{mb:3},children:"Login securely using your DigiLocker account"}),e.jsx(r,{fullWidth:!0,variant:"contained",size:"large",sx:{minHeight:56},onClick:()=>{A()},children:"Continue with DigiLocker"})]})}),e.jsx(q,{sx:{my:3},children:e.jsx(n,{variant:"body2",color:"text.secondary",children:"OR"})}),e.jsx(r,{fullWidth:!0,variant:"outlined",size:"large",startIcon:e.jsx(ae,{}),onClick:U,disabled:o,sx:{minHeight:56},children:t("auth.guestMode")}),e.jsx(n,{variant:"caption",display:"block",textAlign:"center",color:"text.secondary",sx:{mt:2},children:"Guest mode has limited access. Session expires in 5 minutes."})]})})}),e.jsx(l,{sx:{textAlign:"center",mt:3},children:e.jsxs(n,{variant:"body2",color:"text.secondary",children:[t("auth.newUser")," ",e.jsx(r,{variant:"text",sx:{textTransform:"none"},children:t("auth.registerNow")})]})})]})})};export{je as default};
//# sourceMappingURL=LoginPage-BQDbPBTV.js.map
