import{m as I,n as z,r as w,o as W,j as e,p as R,q as D,t as L,T as i,v as k,c as B,u as T,a as M,w as P,E,L as N,W as O,R as q,M as G,x as U,P as F,B as a,y as $,z as Y,e as m,A as V,I as H,F as _,d as v}from"./index-CJ6MaM8b.js";import{m as c}from"./proxy-CfQB7XH1.js";import{G as r}from"./Grid2-DVxtt1Zo.js";import{A as g}from"./ArrowForward-FMS4wIjm.js";import{C as J}from"./Collapse-5tCvmu12.js";import{C as p,a as j}from"./CardContent-D-MrYNNE.js";import{S as K}from"./Schedule-R_830TTt.js";import{C as Q}from"./CardActionArea-B-0qIjbH.js";import"./isMuiElement-CUTupkmi.js";function X(s){return I("MuiAlertTitle",s)}z("MuiAlertTitle",["root"]);const Z=s=>{const{classes:n}=s;return D({root:["root"]},X,n)},ee=L(i,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(s,n)=>n.root})(k(({theme:s})=>({fontWeight:s.typography.fontWeightMedium,marginTop:-2}))),te=w.forwardRef(function(n,o){const d=W({props:n,name:"MuiAlertTitle"}),{className:y,...x}=d,h=d,u=Z(h);return e.jsx(ee,{gutterBottom:!0,component:"div",ownerState:h,ref:o,className:R(u.root,y),...x})}),se=B(e.jsx("path",{d:"M7.58 4.08 6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42m12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42M18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18q.15-.36.15-.78h-4c.01 1.1.9 2 2.01 2"}),"NotificationsActive"),he=()=>{const{t:s}=T(),n=M(),{user:o}=P(t=>t.auth),[d,y]=w.useState([]),x=[{id:"bill-overdue",severity:"error",title:"âš¡ Electricity Bill Overdue in 5 days!",message:"Your electricity bill of â‚¹2,847 (ELEC-2026-001) is due soon. Pay now to avoid late fees.",action:()=>n("/electricity"),actionLabel:"Pay Now"},{id:"outage-planned",severity:"warning",title:"ðŸ”§ Planned Maintenance â€” Water Supply",message:"Ward 5-12: Water supply will be disrupted on Feb 28, 10 AMâ€“4 PM for pipeline maintenance.",action:()=>n("/maps"),actionLabel:"View Map"},{id:"scheme-deadline",severity:"info",title:"ðŸ›ï¸ PM Surya Ghar â€” Deadline Mar 15",message:"Solar panel subsidy scheme application deadline approaching. Check your eligibility now!",action:()=>n("/schemes"),actionLabel:"Check Eligibility"}].filter(t=>!d.includes(t.id)),h=t=>{y(l=>[...l,t])},u=[{icon:e.jsx(E,{sx:{fontSize:40}}),title:s("services.electricity"),color:"#fbbc04",path:"/electricity",actions:[s("services.viewBill"),s("services.payBill"),s("electricity.reportOutage")]},{icon:e.jsx(N,{sx:{fontSize:40}}),title:s("services.gas"),color:"#ea4335",path:"/gas",actions:[s("services.viewBill"),s("gas.meterReading"),s("gas.cngLocator")]},{icon:e.jsx(O,{sx:{fontSize:40}}),title:s("services.water"),color:"#1a73e8",path:"/water",actions:[s("services.viewBill"),s("water.tankerRequest"),s("water.reportLeakage")]},{icon:e.jsx(q,{sx:{fontSize:40}}),title:s("services.complaints"),color:"#e37400",path:"/complaints",actions:[s("complaints.submitComplaint"),s("complaints.trackStatus")]}],C=[{icon:e.jsx(G,{}),label:s("maps.title"),path:"/maps"},{icon:e.jsx(U,{}),label:s("nav.schemes"),path:"/schemes"},{icon:e.jsx(F,{}),label:s("nav.directory"),path:"/directory"}],f=[{type:"electricity",id:"ELEC-2026-001",amount:2847,dueIn:5},{type:"gas",id:"GAS-2026-001",amount:1234,dueIn:12},{type:"water",id:"WATER-2026-001",amount:890,dueIn:8}],b=f.reduce((t,l)=>t+l.amount,0),A=t=>{n("/payment",{state:{billId:t.id,billNumber:t.id,amount:t.amount,type:t.type,consumerId:"123456789",dueDate:new Date(Date.now()+t.dueIn*24*60*60*1e3).toISOString().split("T")[0]}})},S=()=>{n("/payment",{state:{billId:"ALL-BILLS",billNumber:"CONSOLIDATED-"+new Date().getFullYear(),amount:b,type:"electricity",consumerId:(o==null?void 0:o.id)||"123456789",dueDate:new Date().toISOString().split("T")[0]}})};return e.jsxs(a,{children:[e.jsx(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx($,{elevation:0,sx:{p:{xs:2,md:3},mb:4,background:"linear-gradient(135deg, #1a73e8 0%, #34a853 100%)",borderRadius:3,color:"white"},children:e.jsxs(r,{container:!0,alignItems:"center",spacing:3,children:[e.jsx(r,{size:{xs:12,md:8},children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(Y,{sx:{width:{xs:48,md:64},height:{xs:48,md:64},bgcolor:"rgba(255,255,255,0.2)",fontSize:{xs:20,md:28},fontWeight:700},children:o==null?void 0:o.name.charAt(0).toUpperCase()}),e.jsxs(a,{children:[e.jsx(i,{sx:{fontWeight:700,fontSize:{xs:"1.3rem",sm:"1.6rem",md:"2rem"},lineHeight:1.2},children:s("dashboard.welcome",{name:o==null?void 0:o.name})}),e.jsx(i,{variant:"body1",sx:{opacity:.9},children:s("dashboard.subtitle")})]})]})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsxs(a,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"flex-start",md:"flex-end"}},children:[e.jsx(i,{variant:"overline",sx:{opacity:.8},children:s("dashboard.totalDue")}),e.jsxs(i,{sx:{fontWeight:700,fontSize:{xs:"1.8rem",md:"3rem"}},children:["â‚¹",b.toLocaleString("en-IN")]}),e.jsx(m,{variant:"contained",size:"large",sx:{mt:1,bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},endIcon:e.jsx(g,{}),onClick:S,children:s("dashboard.payAll")})]})})]})})}),x.length>0&&e.jsxs(a,{sx:{mb:3,display:"flex",flexDirection:"column",gap:1.5},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[e.jsx(se,{color:"primary",sx:{fontSize:20}}),e.jsx(i,{variant:"subtitle2",color:"text.secondary",fontWeight:600,children:"Alerts & Notifications"})]}),x.map(t=>e.jsx(J,{in:!0,children:e.jsxs(V,{severity:t.severity,action:e.jsxs(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e.jsx(m,{color:"inherit",size:"small",onClick:t.action,sx:{fontWeight:600,whiteSpace:"nowrap"},children:t.actionLabel}),e.jsx(H,{size:"small",color:"inherit",onClick:()=>h(t.id),children:e.jsx(_,{fontSize:"small"})})]}),sx:{borderRadius:2},children:[e.jsx(te,{sx:{fontWeight:700,mb:0},children:t.title}),t.message]})},t.id))]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},children:[e.jsx(i,{variant:"h6",sx:{mb:2,fontWeight:600},children:s("dashboard.outstandingBills")}),e.jsx(r,{container:!0,spacing:2,sx:{mb:4},children:f.map(t=>e.jsx(r,{size:{xs:12,sm:6,md:4},children:e.jsx(p,{sx:{borderRadius:2,borderLeft:4,borderColor:t.type==="electricity"?"warning.main":t.type==="gas"?"error.main":"primary.main"},children:e.jsxs(j,{children:[e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsxs(i,{variant:"subtitle2",color:"text.secondary",children:[s(`services.${t.type}`)," ",s("dashboard.bill")]}),e.jsx(v,{size:"small",icon:e.jsx(K,{sx:{fontSize:14}}),label:`${t.dueIn} ${s("common.days")}`,color:t.dueIn<=5?"error":"default"})]}),e.jsxs(i,{variant:"h5",sx:{fontWeight:700},children:["â‚¹",t.amount.toLocaleString("en-IN")]}),e.jsx(i,{variant:"caption",color:"text.secondary",children:t.id}),e.jsx(a,{sx:{mt:2},children:e.jsxs(m,{variant:"contained",size:"small",fullWidth:!0,color:t.type==="electricity"?"warning":t.type==="gas"?"error":"primary",onClick:()=>A(t),children:["    ",s("services.payBill")]})})]})})},t.id))})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:[e.jsx(i,{variant:"h6",sx:{mb:2,fontWeight:600},children:s("dashboard.quickActions")}),e.jsx(r,{container:!0,spacing:3,sx:{mb:4},children:u.map(t=>e.jsx(r,{size:{xs:12,sm:6,md:3},children:e.jsx(p,{sx:{height:"100%",borderRadius:3,transition:"all 0.3s","&:hover":{transform:"translateY(-4px)",boxShadow:4}},children:e.jsxs(Q,{onClick:()=>n(t.path),sx:{height:"100%",p:2,display:"flex",flexDirection:"column"},children:[e.jsx(a,{sx:{width:72,height:72,borderRadius:3,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:`${t.color}15`,color:t.color,mb:2},children:t.icon}),e.jsx(i,{variant:"h6",sx:{fontWeight:600,mb:1},children:t.title}),e.jsx(a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.actions.map(l=>e.jsx(v,{label:l,size:"small",variant:"outlined",sx:{fontSize:11}},l))})]})})},t.title))})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:e.jsx(r,{container:!0,spacing:2,sx:{mb:4},children:C.map(t=>e.jsx(r,{size:{xs:12,sm:4},children:e.jsx(p,{sx:{borderRadius:2,cursor:"pointer","&:hover":{boxShadow:3}},onClick:()=>n(t.path),children:e.jsxs(j,{sx:{display:"flex",alignItems:"center",gap:2,py:2},children:[e.jsx(a,{sx:{width:48,height:48,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"primary.50",color:"primary.main"},children:t.icon}),e.jsx(i,{variant:"subtitle1",sx:{fontWeight:600},children:t.label}),e.jsx(g,{sx:{ml:"auto",color:"text.secondary"}})]})})},t.label))})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},children:e.jsx(p,{sx:{borderRadius:3},children:e.jsxs(j,{children:[e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(i,{variant:"h6",sx:{fontWeight:600},children:s("dashboard.activeComplaints")}),e.jsx(m,{variant:"text",endIcon:e.jsx(g,{}),onClick:()=>n("/complaints"),children:s("dashboard.viewAll")})]}),e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{size:{xs:6,sm:3},children:e.jsxs(a,{sx:{textAlign:"center",p:2,bgcolor:"warning.50",borderRadius:2},children:[e.jsx(i,{variant:"h4",color:"warning.main",sx:{fontWeight:700},children:"2"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:s("complaints.status.in_progress")})]})}),e.jsx(r,{size:{xs:6,sm:3},children:e.jsxs(a,{sx:{textAlign:"center",p:2,bgcolor:"info.50",borderRadius:2},children:[e.jsx(i,{variant:"h4",color:"info.main",sx:{fontWeight:700},children:"1"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:s("complaints.status.assigned")})]})}),e.jsx(r,{size:{xs:6,sm:3},children:e.jsxs(a,{sx:{textAlign:"center",p:2,bgcolor:"success.50",borderRadius:2},children:[e.jsx(i,{variant:"h4",color:"success.main",sx:{fontWeight:700},children:"5"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:s("complaints.status.resolved")})]})}),e.jsx(r,{size:{xs:6,sm:3},children:e.jsxs(a,{sx:{textAlign:"center",p:2,bgcolor:"neutral.100",borderRadius:2},children:[e.jsx(i,{variant:"h4",color:"text.primary",sx:{fontWeight:700},children:"8"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:s("common.total")})]})})]})]})})})]})};export{he as default};
//# sourceMappingURL=DashboardPage-DS63ACvs.js.map
