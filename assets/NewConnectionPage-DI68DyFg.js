import{u as O,a as Y,b as q,r as o,j as e,B as r,T as s,y as j,A as b,e as h,E as k,H as Q,d as V,D as g,L as Z,W as _,g as ee}from"./index-CJ6MaM8b.js";import{m as te}from"./proxy-CfQB7XH1.js";import{C as y}from"./CheckCircle-BdOVru3d.js";import{S as se,a as ie,b as ae}from"./Stepper-DczYie2k.js";import{L as re}from"./LinearProgress-CBny78V7.js";import{C as L,a as R}from"./CardContent-D-MrYNNE.js";import{G as n}from"./Grid2-DVxtt1Zo.js";import{P as ne}from"./Person-BBEOXa6S.js";import{T as m,F as le,I as oe,S as ce}from"./TextField-Dxn9Ud9w.js";import{R as de,a as v}from"./RadioGroup-C5K6UYru.js";import{F as C}from"./FormControlLabel--P5DCPPy.js";import{M as me}from"./MenuItem-BTRy_CwC.js";import{D as xe}from"./Description-DruZsUVL.js";import{U as ue}from"./Upload-24Yps2jZ.js";import{P as he}from"./Payment-DJpFpg4P.js";import{A as pe}from"./ArrowBack-DFZbt0oL.js";import{A as je}from"./ArrowForward-FMS4wIjm.js";import"./isMuiElement-CUTupkmi.js";import"./useFormControl-RHgvjy84.js";import"./FormGroup-CQIjepjd.js";const T=[{id:"electricity",label:"Electricity",icon:e.jsx(k,{}),color:"#fbbc04",desc:"New domestic or commercial electricity connection"},{id:"gas",label:"Gas (PNG)",icon:e.jsx(Z,{}),color:"#ea4335",desc:"Piped Natural Gas connection for your home"},{id:"water",label:"Water Supply",icon:e.jsx(_,{}),color:"#1a73e8",desc:"Municipal water supply connection"}],B={electricity:[{label:"1 KW - Domestic (Single Phase)",fee:2100},{label:"2 KW - Domestic (Single Phase)",fee:4200},{label:"5 KW - Domestic (Three Phase)",fee:10500},{label:"10 KW - Commercial",fee:21e3}],gas:[{label:"Domestic PNG Connection",fee:6500},{label:"Commercial PNG Connection",fee:15e3}],water:[{label:"Â½ inch - Domestic",fee:3500},{label:"Â¾ inch - Semi Commercial",fee:7e3},{label:"1 inch - Commercial",fee:12e3}]},p=["Select Service","Personal Details","Connection Details","Documents","Review & Submit"],Ie=()=>{var D,N,X;const{t:be}=O(),S=Y(),z=q(),[a,f]=o.useState(0),[G,W]=o.useState(!1),[I,F]=o.useState(""),[l,P]=o.useState(""),[x,E]=o.useState(""),[i,c]=o.useState({fullName:"",aadhaar:"",mobile:"",email:"",address:"",city:"Surat",pincode:""}),[A,M]=o.useState("residential"),[u,U]=o.useState([{name:"Aadhaar Card",uploaded:!1},{name:"Address Proof",uploaded:!1},{name:"Property Ownership Proof",uploaded:!1},{name:"Passport Photo",uploaded:!1}]),w=((N=(D=B[l])==null?void 0:D.find(t=>t.label===x))==null?void 0:N.fee)||0,$=t=>{const d=[...u];d[t].uploaded=!0,U(d)},K=()=>{if(a===p.length-1){const d=`${l==="electricity"?"ELC":l==="gas"?"GAS":"WTR"}-2026-${String(Math.floor(Math.random()*99999)).padStart(5,"0")}`;F(d),W(!0),z(ee({message:`Application ${d} submitted successfully! ðŸ“± SMS sent to +91-${i.mobile||"XXXXXXXXXX"}`,severity:"success"}))}else f(t=>t+1)},H=()=>f(t=>t-1),J=()=>{switch(a){case 0:return l!=="";case 1:return i.fullName&&i.mobile;case 2:return x!=="";case 3:return u.filter(t=>t.uploaded).length>=2;case 4:return!0;default:return!1}};return G?e.jsxs(r,{sx:{maxWidth:600,mx:"auto",mt:4,textAlign:"center"},children:[e.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},children:e.jsx(y,{sx:{fontSize:80,color:"success.main",mb:2}})}),e.jsx(s,{variant:"h4",fontWeight:700,gutterBottom:!0,children:"Application Submitted!"}),e.jsxs(j,{sx:{p:3,borderRadius:3,mb:3,bgcolor:"success.50"},children:[e.jsx(s,{variant:"overline",color:"text.secondary",children:"Application Number"}),e.jsx(s,{variant:"h3",fontWeight:800,color:"success.main",children:I})]}),e.jsxs(b,{severity:"info",sx:{mb:2,textAlign:"left",borderRadius:2},children:[e.jsx("strong",{children:"ðŸ“± SMS sent"})," to +91-",i.mobile||"XXXXXXXXXX"," with application details",e.jsx("br",{}),e.jsx("strong",{children:"ðŸ“§ Email confirmation"})," sent to ",i.email||"your registered email",e.jsx("br",{}),e.jsx("strong",{children:"â±ï¸ Expected timeline:"})," 15 working days"]}),e.jsxs(r,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[e.jsx(h,{variant:"contained",size:"large",onClick:()=>S("/dashboard"),children:"Go to Dashboard"}),e.jsx(h,{variant:"outlined",size:"large",onClick:()=>{W(!1),f(0),P("")},children:"New Application"})]})]}):e.jsxs(r,{sx:{maxWidth:800,mx:"auto"},children:[e.jsx(s,{variant:"h5",fontWeight:700,gutterBottom:!0,children:"Apply for New Connection"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Apply for a new Electricity, Gas, or Water connection in 5 simple steps"}),e.jsx(se,{activeStep:a,alternativeLabel:!0,sx:{mb:4},children:p.map(t=>e.jsx(ie,{children:e.jsx(ae,{children:t})},t))}),e.jsx(re,{variant:"determinate",value:a/(p.length-1)*100,sx:{mb:3,borderRadius:2,height:6}}),e.jsx(L,{sx:{borderRadius:3,p:{xs:2,md:3}},children:e.jsxs(R,{children:[a===0&&e.jsxs(r,{children:[e.jsxs(s,{variant:"h6",fontWeight:600,gutterBottom:!0,children:[e.jsx(k,{sx:{mr:1,verticalAlign:"middle"}}),"Select Utility Service"]}),e.jsx(n,{container:!0,spacing:2,sx:{mt:1},children:T.map(t=>e.jsx(n,{size:{xs:12,sm:4},children:e.jsx(L,{onClick:()=>P(t.id),sx:{cursor:"pointer",borderRadius:2,border:l===t.id?`3px solid ${t.color}`:"2px solid transparent",bgcolor:l===t.id?`${t.color}10`:"background.paper",transition:"all 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:3}},children:e.jsxs(R,{sx:{textAlign:"center",py:3},children:[e.jsx(r,{sx:{color:t.color,mb:1},children:t.icon}),e.jsx(s,{fontWeight:700,children:t.label}),e.jsx(s,{variant:"caption",color:"text.secondary",children:t.desc})]})})},t.id))})]}),a===1&&e.jsxs(r,{children:[e.jsxs(s,{variant:"h6",fontWeight:600,gutterBottom:!0,children:[e.jsx(ne,{sx:{mr:1,verticalAlign:"middle"}}),"Personal Details"]}),e.jsxs(n,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(n,{size:{xs:12,sm:6},children:e.jsx(m,{fullWidth:!0,label:"Full Name *",value:i.fullName,onChange:t=>c({...i,fullName:t.target.value})})}),e.jsx(n,{size:{xs:12,sm:6},children:e.jsx(m,{fullWidth:!0,label:"Aadhaar Number",value:i.aadhaar,onChange:t=>c({...i,aadhaar:t.target.value}),inputProps:{maxLength:12}})}),e.jsx(n,{size:{xs:12,sm:6},children:e.jsx(m,{fullWidth:!0,label:"Mobile Number *",value:i.mobile,onChange:t=>c({...i,mobile:t.target.value}),inputProps:{maxLength:10}})}),e.jsx(n,{size:{xs:12,sm:6},children:e.jsx(m,{fullWidth:!0,label:"Email",type:"email",value:i.email,onChange:t=>c({...i,email:t.target.value})})}),e.jsx(n,{size:12,children:e.jsx(m,{fullWidth:!0,label:"Full Address",multiline:!0,rows:2,value:i.address,onChange:t=>c({...i,address:t.target.value})})}),e.jsx(n,{size:{xs:12,sm:6},children:e.jsx(m,{fullWidth:!0,label:"City",value:i.city,onChange:t=>c({...i,city:t.target.value})})}),e.jsx(n,{size:{xs:12,sm:6},children:e.jsx(m,{fullWidth:!0,label:"Pincode",value:i.pincode,onChange:t=>c({...i,pincode:t.target.value}),inputProps:{maxLength:6}})})]}),e.jsx(b,{severity:"info",sx:{mt:2,borderRadius:2},children:"ðŸ’¡ Tip: Login with DigiLocker to auto-fill your details from government records."})]}),a===2&&e.jsxs(r,{children:[e.jsxs(s,{variant:"h6",fontWeight:600,gutterBottom:!0,children:[e.jsx(Q,{sx:{mr:1,verticalAlign:"middle"}}),"Connection Details"]}),e.jsx(s,{variant:"subtitle2",sx:{mt:2,mb:1},children:"Premise Type"}),e.jsxs(de,{row:!0,value:A,onChange:t=>M(t.target.value),children:[e.jsx(C,{value:"residential",control:e.jsx(v,{}),label:"Residential"}),e.jsx(C,{value:"commercial",control:e.jsx(v,{}),label:"Commercial"}),e.jsx(C,{value:"industrial",control:e.jsx(v,{}),label:"Industrial"})]}),e.jsx(s,{variant:"subtitle2",sx:{mt:3,mb:1},children:"Connection Type & Load"}),e.jsxs(le,{fullWidth:!0,children:[e.jsx(oe,{children:"Select Connection Type"}),e.jsx(ce,{value:x,label:"Select Connection Type",onChange:t=>E(t.target.value),children:(B[l]||[]).map(t=>e.jsxs(me,{value:t.label,children:[t.label," â€” â‚¹",t.fee.toLocaleString("en-IN")]},t.label))})]}),x&&e.jsxs(j,{sx:{mt:2,p:2,bgcolor:"primary.50",borderRadius:2},children:[e.jsx(s,{variant:"subtitle2",children:"Estimated Fee"}),e.jsxs(s,{variant:"h4",fontWeight:700,color:"primary.main",children:["â‚¹",w.toLocaleString("en-IN")]}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Includes connection charges, security deposit, and meter cost"})]})]}),a===3&&e.jsxs(r,{children:[e.jsxs(s,{variant:"h6",fontWeight:600,gutterBottom:!0,children:[e.jsx(xe,{sx:{mr:1,verticalAlign:"middle"}}),"Upload Documents"]}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Upload at least 2 documents to proceed. Accepted formats: PDF, JPG, PNG (Max 5MB each)"}),u.map((t,d)=>e.jsxs(j,{sx:{p:2,mb:1.5,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"space-between",border:t.uploaded?"2px solid #34a853":"1px solid #e0e0e0",bgcolor:t.uploaded?"#34a85308":"background.paper"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[t.uploaded?e.jsx(y,{color:"success"}):e.jsx(ue,{color:"action"}),e.jsxs(r,{children:[e.jsx(s,{fontWeight:600,children:t.name}),t.uploaded&&e.jsx(s,{variant:"caption",color:"success.main",children:"Uploaded successfully"})]})]}),e.jsx(h,{variant:t.uploaded?"text":"outlined",size:"small",onClick:()=>$(d),disabled:t.uploaded,children:t.uploaded?"âœ“ Done":"Upload"})]},t.name)),e.jsxs(b,{severity:"info",sx:{mt:2,borderRadius:2},children:["ðŸ“‹ Import documents directly from ",e.jsx("strong",{children:"DigiLocker"})," for faster verification."]})]}),a===4&&e.jsxs(r,{children:[e.jsxs(s,{variant:"h6",fontWeight:600,gutterBottom:!0,children:[e.jsx(he,{sx:{mr:1,verticalAlign:"middle"}}),"Review & Submit"]}),e.jsxs(j,{sx:{p:2,borderRadius:2,mb:2},children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Service"}),e.jsx(V,{label:((X=T.find(t=>t.id===l))==null?void 0:X.label)||l,color:"primary",sx:{mb:1}}),e.jsx(g,{sx:{my:1.5}}),e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Applicant"}),e.jsx(s,{fontWeight:600,children:i.fullName}),e.jsxs(s,{variant:"body2",children:[i.mobile," â€¢ ",i.email]}),e.jsxs(s,{variant:"body2",children:[i.address,", ",i.city," ",i.pincode]}),e.jsx(g,{sx:{my:1.5}}),e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Connection"}),e.jsx(s,{fontWeight:600,children:x}),e.jsxs(s,{variant:"body2",children:["Premise: ",A]}),e.jsx(g,{sx:{my:1.5}}),e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Documents"}),e.jsxs(s,{fontWeight:600,children:[u.filter(t=>t.uploaded).length," of ",u.length," uploaded"]}),e.jsx(g,{sx:{my:1.5}}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:"Total Fee"}),e.jsxs(s,{variant:"h5",fontWeight:700,color:"primary.main",children:["â‚¹",w.toLocaleString("en-IN")]})]})]}),e.jsx(b,{severity:"warning",sx:{borderRadius:2},children:"By submitting, you agree to the terms and conditions. Fee will be collected during site inspection."})]})]})}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[e.jsx(h,{variant:"outlined",startIcon:e.jsx(pe,{}),onClick:a===0?()=>S("/dashboard"):H,size:"large",children:a===0?"Cancel":"Back"}),e.jsx(h,{variant:"contained",endIcon:a===p.length-1?e.jsx(y,{}):e.jsx(je,{}),onClick:K,disabled:!J(),size:"large",sx:{minWidth:160},children:a===p.length-1?"Submit Application":"Next"})]})]})};export{Ie as default};
//# sourceMappingURL=NewConnectionPage-DI68DyFg.js.map
