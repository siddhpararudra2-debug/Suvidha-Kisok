import{c as y,j as e,a as A,r as m,B as r,T as t,y as n,am as R,an as o,I as w,d as l,e as B,M as W,L as I,W as D,E as L}from"./index-CJ6MaM8b.js";import{G as i}from"./Grid2-DVxtt1Zo.js";import{C as T,a as S}from"./CardContent-D-MrYNNE.js";import{L as M}from"./LocationOn-Bul_mru2.js";import{C as U}from"./CheckCircle-BdOVru3d.js";import{S as G}from"./Schedule-R_830TTt.js";import{L as V}from"./LinearProgress-CBny78V7.js";import{C as _}from"./Construction-DFXSFR39.js";import"./isMuiElement-CUTupkmi.js";const k=y(e.jsx("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp"),E=y(e.jsx("path",{d:"M9 21h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.58 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2M9 9l4.34-4.34L12 10h9v2l-3 7H9zM1 9h4v12H1z"}),"ThumbUpOutlined"),v=[{id:"CC-001",type:"electricity",area:"Adajan",title:"Frequent power cuts in ward 12",upvotes:47,status:"in_progress",reportedBy:"Citizens (3)",date:"2026-02-22",daysActive:4},{id:"CC-002",type:"water",area:"Varachha",title:"Low water pressure since 3 days",upvotes:89,status:"assigned",reportedBy:"Citizens (7)",date:"2026-02-20",daysActive:6},{id:"CC-003",type:"gas",area:"Katargam",title:"Gas smell near Katargam junction",upvotes:122,status:"in_progress",reportedBy:"Citizens (12)",date:"2026-02-21",daysActive:5},{id:"CC-004",type:"roads",area:"Rander",title:"Pothole on main road near school",upvotes:65,status:"resolved",reportedBy:"Citizens (5)",date:"2026-02-15",daysActive:0,resolvedIn:"4 days"},{id:"CC-005",type:"electricity",area:"Vesu",title:"Streetlights not working on ring road",upvotes:34,status:"pending",reportedBy:"Citizens (2)",date:"2026-02-24",daysActive:2},{id:"CC-006",type:"water",area:"Udhna",title:"Contaminated water supply",upvotes:156,status:"in_progress",reportedBy:"Citizens (15)",date:"2026-02-19",daysActive:7}],x=[{area:"Varachha",complaints:23,resolved:18,avgDays:3.2},{area:"Adajan",complaints:15,resolved:12,avgDays:2.8},{area:"Katargam",complaints:19,resolved:14,avgDays:4.1},{area:"Rander",complaints:12,resolved:11,avgDays:2.5},{area:"Vesu",complaints:8,resolved:7,avgDays:1.9},{area:"Udhna",complaints:17,resolved:13,avgDays:3.6}],P={electricity:e.jsx(L,{sx:{color:"#fbbc04"}}),water:e.jsx(D,{sx:{color:"#1a73e8"}}),gas:e.jsx(I,{sx:{color:"#ea4335"}}),roads:e.jsx(_,{sx:{color:"#9e9e9e"}})},p={pending:"#ff9800",assigned:"#2196f3",in_progress:"#7c4dff",resolved:"#4caf50"},X=()=>{const g=A(),[d,j]=m.useState("all"),[c,f]=m.useState([]),C=s=>{f(a=>a.includes(s)?a.filter(z=>z!==s):[...a,s])},b=d==="all"?v:v.filter(s=>s.type===d),h=x.reduce((s,a)=>s+a.resolved,0),u=x.reduce((s,a)=>s+a.complaints,0);return e.jsxs(r,{children:[e.jsx(t,{variant:"h5",fontWeight:700,gutterBottom:!0,children:"ðŸ˜ï¸ Community Transparency Dashboard"}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"See what issues your community is facing and track resolution progress"}),e.jsxs(i,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(i,{size:{xs:6,sm:3},children:e.jsxs(n,{sx:{p:2,textAlign:"center",borderRadius:2},children:[e.jsx(t,{variant:"h4",fontWeight:700,color:"primary.main",children:u}),e.jsx(t,{variant:"caption",color:"text.secondary",children:"Total Reports"})]})}),e.jsx(i,{size:{xs:6,sm:3},children:e.jsxs(n,{sx:{p:2,textAlign:"center",borderRadius:2},children:[e.jsx(t,{variant:"h4",fontWeight:700,color:"success.main",children:h}),e.jsx(t,{variant:"caption",color:"text.secondary",children:"Resolved"})]})}),e.jsx(i,{size:{xs:6,sm:3},children:e.jsxs(n,{sx:{p:2,textAlign:"center",borderRadius:2},children:[e.jsx(t,{variant:"h4",fontWeight:700,color:"warning.main",children:u-h}),e.jsx(t,{variant:"caption",color:"text.secondary",children:"Active Issues"})]})}),e.jsx(i,{size:{xs:6,sm:3},children:e.jsxs(n,{sx:{p:2,textAlign:"center",borderRadius:2},children:[e.jsx(t,{variant:"h4",fontWeight:700,children:"3.0d"}),e.jsx(t,{variant:"caption",color:"text.secondary",children:"Avg Resolution"})]})})]}),e.jsxs(R,{value:d,exclusive:!0,onChange:(s,a)=>a&&j(a),size:"small",sx:{mb:3},children:[e.jsx(o,{value:"all",children:"All"}),e.jsx(o,{value:"electricity",children:"âš¡ Electricity"}),e.jsx(o,{value:"water",children:"ðŸ’§ Water"}),e.jsx(o,{value:"gas",children:"ðŸ”¥ Gas"}),e.jsx(o,{value:"roads",children:"ðŸ›£ï¸ Roads"})]}),e.jsx(r,{sx:{display:"flex",flexDirection:"column",gap:2,mb:4},children:b.map(s=>e.jsx(T,{sx:{borderRadius:2,borderLeft:`4px solid ${p[s.status]}`},children:e.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:2,py:2,"&:last-child":{pb:2}},children:[e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:50},children:[e.jsx(w,{onClick:()=>C(s.id),size:"small",children:c.includes(s.id)?e.jsx(k,{color:"primary"}):e.jsx(E,{})}),e.jsx(t,{variant:"body2",fontWeight:700,color:c.includes(s.id)?"primary.main":"text.secondary",children:s.upvotes+(c.includes(s.id)?1:0)})]}),e.jsxs(r,{sx:{flex:1},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[P[s.type],e.jsx(t,{fontWeight:600,children:s.title})]}),e.jsxs(r,{sx:{display:"flex",gap:1,flexWrap:"wrap",alignItems:"center"},children:[e.jsx(l,{icon:e.jsx(M,{}),label:s.area,size:"small",variant:"outlined"}),e.jsx(l,{label:s.status.replace("_"," "),size:"small",sx:{bgcolor:`${p[s.status]}20`,color:p[s.status],fontWeight:600}}),e.jsxs(t,{variant:"caption",color:"text.secondary",children:[s.reportedBy," â€¢ ",s.date]}),s.status==="resolved"&&e.jsx(l,{icon:e.jsx(U,{}),label:`Resolved in ${s.resolvedIn}`,size:"small",color:"success",variant:"outlined"}),s.daysActive>0&&e.jsx(l,{icon:e.jsx(G,{}),label:`${s.daysActive}d active`,size:"small",color:s.daysActive>5?"error":"default",variant:"outlined"})]})]})]})},s.id))}),e.jsx(t,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"ðŸ“Š Area-wise Resolution"}),e.jsx(i,{container:!0,spacing:2,children:x.map(s=>e.jsx(i,{size:{xs:12,sm:6,md:4},children:e.jsxs(n,{sx:{p:2,borderRadius:2},children:[e.jsx(t,{fontWeight:600,children:s.area}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[e.jsxs(t,{variant:"body2",color:"text.secondary",children:[s.resolved,"/",s.complaints," resolved"]}),e.jsxs(t,{variant:"body2",fontWeight:600,children:[Math.round(s.resolved/s.complaints*100),"%"]})]}),e.jsx(V,{variant:"determinate",value:s.resolved/s.complaints*100,sx:{mt:1,height:6,borderRadius:3}}),e.jsxs(t,{variant:"caption",color:"text.secondary",children:["Avg resolution: ",s.avgDays," days"]})]})},s.area))}),e.jsx(r,{sx:{mt:3,textAlign:"center"},children:e.jsx(B,{variant:"contained",endIcon:e.jsx(W,{}),onClick:()=>g("/maps"),size:"large",children:"View Issues on Map"})})]})};export{X as default};
//# sourceMappingURL=CommunityPage-cXKifqx2.js.map
