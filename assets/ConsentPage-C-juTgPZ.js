import{r as d,m as F,n as L,o as Y,ag as ne,a3 as R,p as B,j as e,q as K,t as S,y as X,v as A,a4 as ae,c as E,a as ie,B as m,T as s,e as H,A as O,d as J,D as I}from"./index-CJ6MaM8b.js";import{C as ce}from"./CheckCircle-BdOVru3d.js";import{C as le}from"./Collapse-5tCvmu12.js";import{C as de,a as pe}from"./CardContent-D-MrYNNE.js";import{F as T}from"./FormControlLabel--P5DCPPy.js";import{C as N}from"./Checkbox-TZpePF7A.js";import{D as Q}from"./Delete-Bfwb6b8f.js";import"./useFormControl-RHgvjy84.js";const Z=d.createContext({});function ue(o){return F("MuiAccordion",o)}const q=L("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),xe=o=>{const{classes:t,square:r,expanded:n,disabled:i,disableGutters:p}=o;return K({root:["root",!r&&"rounded",n&&"expanded",i&&"disabled",!p&&"gutters"],heading:["heading"],region:["region"]},ue,t)},me=S(X,{name:"MuiAccordion",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[{[`& .${q.region}`]:t.region},t.root,!r.square&&t.rounded,!r.disableGutters&&t.gutters]}})(A(({theme:o})=>{const t={duration:o.transitions.duration.shortest};return{position:"relative",transition:o.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(o.vars||o).palette.divider,transition:o.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${q.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${q.disabled}`]:{backgroundColor:(o.vars||o).palette.action.disabledBackground}}}),A(({theme:o})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(o.vars||o).shape.borderRadius,borderTopRightRadius:(o.vars||o).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(o.vars||o).shape.borderRadius,borderBottomRightRadius:(o.vars||o).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${q.expanded}`]:{margin:"16px 0"}}}]}))),he=S("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(o,t)=>t.heading})({all:"unset"}),ge=d.forwardRef(function(t,r){const n=Y({props:t,name:"MuiAccordion"}),{children:i,className:p,defaultExpanded:u=!1,disabled:l=!1,disableGutters:g=!1,expanded:P,onChange:a,square:x=!1,slots:y={},slotProps:G={},TransitionComponent:W,TransitionProps:w,...U}=n,[c,b]=ne({controlled:P,default:u,name:"Accordion",state:"expanded"}),f=d.useCallback(re=>{b(!c),a&&a(re,!c)},[c,a,b]),[D,...z]=d.Children.toArray(i),$=d.useMemo(()=>({expanded:c,disabled:l,disableGutters:g,toggle:f}),[c,l,g,f]),v={...n,square:x,disabled:l,disableGutters:g,expanded:c},M=xe(v),V={transition:W,...y},h={transition:w,...G},j={slots:V,slotProps:h},[k,_]=R("root",{elementType:me,externalForwardedProps:{...j,...U},className:B(M.root,p),shouldForwardComponentProp:!0,ownerState:v,ref:r,additionalProps:{square:x}}),[ee,oe]=R("heading",{elementType:he,externalForwardedProps:j,className:M.heading,ownerState:v}),[te,se]=R("transition",{elementType:le,externalForwardedProps:j,ownerState:v});return e.jsxs(k,{..._,children:[e.jsx(ee,{...oe,children:e.jsx(Z.Provider,{value:$,children:D})}),e.jsx(te,{in:c,timeout:"auto",...se,children:e.jsx("div",{"aria-labelledby":D.props.id,id:D.props["aria-controls"],role:"region",className:M.region,children:z})})]})});function ye(o){return F("MuiAccordionDetails",o)}L("MuiAccordionDetails",["root"]);const be=o=>{const{classes:t}=o;return K({root:["root"]},ye,t)},fe=S("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(o,t)=>t.root})(A(({theme:o})=>({padding:o.spacing(1,2,2)}))),ve=d.forwardRef(function(t,r){const n=Y({props:t,name:"MuiAccordionDetails"}),{className:i,...p}=n,u=n,l=be(u);return e.jsx(fe,{className:B(l.root,i),ref:r,ownerState:u,...p})});function je(o){return F("MuiAccordionSummary",o)}const C=L("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Ce=o=>{const{classes:t,expanded:r,disabled:n,disableGutters:i}=o;return K({root:["root",r&&"expanded",n&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},je,t)},Re=S(ae,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(o,t)=>t.root})(A(({theme:o})=>{const t={duration:o.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:o.spacing(0,2),transition:o.transitions.create(["min-height","background-color"],t),[`&.${C.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},[`&.${C.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity},[`&:hover:not(.${C.disabled})`]:{cursor:"pointer"},variants:[{props:r=>!r.disableGutters,style:{[`&.${C.expanded}`]:{minHeight:64}}}]}})),Ae=S("span",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(o,t)=>t.content})(A(({theme:o})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:o.transitions.create(["margin"],{duration:o.transitions.duration.shortest}),[`&.${C.expanded}`]:{margin:"20px 0"}}}]}))),Se=S("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(o,t)=>t.expandIconWrapper})(A(({theme:o})=>({display:"flex",color:(o.vars||o).palette.action.active,transform:"rotate(0deg)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shortest}),[`&.${C.expanded}`]:{transform:"rotate(180deg)"}}))),Pe=d.forwardRef(function(t,r){const n=Y({props:t,name:"MuiAccordionSummary"}),{children:i,className:p,expandIcon:u,focusVisibleClassName:l,onClick:g,slots:P,slotProps:a,...x}=n,{disabled:y=!1,disableGutters:G,expanded:W,toggle:w}=d.useContext(Z),U=h=>{w&&w(h),g&&g(h)},c={...n,expanded:W,disabled:y,disableGutters:G},b=Ce(c),f={slots:P,slotProps:a},[D,z]=R("root",{ref:r,shouldForwardComponentProp:!0,className:B(b.root,p),elementType:Re,externalForwardedProps:{...f,...x},ownerState:c,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:y,"aria-expanded":W,focusVisibleClassName:B(b.focusVisible,l)},getSlotProps:h=>({...h,onClick:j=>{var k;(k=h.onClick)==null||k.call(h,j),U(j)}})}),[$,v]=R("content",{className:b.content,elementType:Ae,externalForwardedProps:f,ownerState:c}),[M,V]=R("expandIconWrapper",{className:b.expandIconWrapper,elementType:Se,externalForwardedProps:f,ownerState:c});return e.jsxs(D,{...z,children:[e.jsx($,{...v,children:i}),u&&e.jsx(M,{...V,children:u})]})}),De=E(e.jsx("path",{d:"M13 2.05v3.03c3.39.49 6 3.39 6 6.92 0 .9-.18 1.75-.48 2.54l2.6 1.53c.56-1.24.88-2.62.88-4.07 0-5.18-3.95-9.45-9-9.95M12 19c-3.87 0-7-3.13-7-7 0-3.53 2.61-6.43 6-6.92V2.05c-5.06.5-9 4.76-9 9.95 0 5.52 4.47 10 9.99 10 3.31 0 6.24-1.61 8.06-4.09l-2.6-1.53C16.17 17.98 14.21 19 12 19"}),"DataUsage"),Me=E(e.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),We=E(e.jsx("path",{d:"m5.2494 8.0688 2.83-2.8269 14.1343 14.15-2.83 2.8269zm4.2363-4.2415 2.828-2.8289 5.6577 5.656-2.828 2.8289zM.9989 12.3147l2.8284-2.8285 5.6569 5.6569-2.8285 2.8284zM1 21h12v2H1z"}),"Gavel"),we=E(e.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5z"}),"Shield"),ke=[{title:"Personal Identification",items:["Name","Aadhaar Number (masked)","Mobile Number","Email Address"],purpose:"Account creation, authentication, and communication",retention:"5 years after account closure"},{title:"Service Data",items:["Connection IDs","Bill History","Payment Records","Complaint History"],purpose:"Bill management, complaint tracking, and service improvement",retention:"7 years as per regulatory requirement"},{title:"Location Data",items:["GPS coordinates (for complaints)","Service area / Ward"],purpose:"Complaint geo-tagging and infrastructure mapping",retention:"1 year after complaint resolution"},{title:"Usage Analytics",items:["Consumption patterns","Peak usage times","Peer comparison data"],purpose:"Personalized recommendations and energy saving tips",retention:"2 years for trend analysis"}],ze=()=>{const o=ie(),[t,r]=d.useState({essential:!0,analytics:!1,communications:!1,allRead:!1}),[n,i]=d.useState(!1),[p,u]=d.useState(!1),l=a=>{r(x=>({...x,[a]:!x[a]}))},g=()=>{i(!0)},P=()=>{u(!0)};return n?e.jsxs(m,{sx:{maxWidth:600,mx:"auto",mt:4,textAlign:"center"},children:[e.jsx(ce,{sx:{fontSize:64,color:"success.main",mb:2}}),e.jsx(s,{variant:"h5",fontWeight:700,gutterBottom:!0,children:"Consent Preferences Saved"}),e.jsx(s,{color:"text.secondary",sx:{mb:3},children:"Your data privacy preferences have been recorded. You can change them anytime from Settings."}),e.jsx(H,{variant:"contained",onClick:()=>o("/dashboard"),children:"Continue to Dashboard"})]}):e.jsxs(m,{sx:{maxWidth:800,mx:"auto"},children:[e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[e.jsx(we,{sx:{fontSize:40,color:"primary.main"}}),e.jsxs(m,{children:[e.jsx(s,{variant:"h5",fontWeight:700,children:"Data Privacy & Consent"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"As per the Digital Personal Data Protection Act (DPDP), 2023"})]})]}),e.jsxs(O,{severity:"info",sx:{mb:3,borderRadius:2},children:[e.jsx("strong",{children:"Your data, your choice."})," SUVIDHA Kiosk collects only the data necessary to provide utility services. You can review, modify, or request deletion of your data at any time."]}),e.jsxs(s,{variant:"h6",fontWeight:600,sx:{mb:2},children:[e.jsx(De,{sx:{mr:1,verticalAlign:"middle"}}),"What Data We Collect"]}),ke.map((a,x)=>e.jsxs(ge,{sx:{mb:1,borderRadius:2,"&:before":{display:"none"}},defaultExpanded:x===0,children:[e.jsx(Pe,{expandIcon:e.jsx(Me,{}),children:e.jsx(s,{fontWeight:600,children:a.title})}),e.jsxs(ve,{children:[e.jsx(m,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mb:1},children:a.items.map(y=>e.jsx(J,{label:y,size:"small",variant:"outlined"},y))}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:[e.jsx("strong",{children:"Purpose:"})," ",a.purpose]}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:[e.jsx("strong",{children:"Retention:"})," ",a.retention]})]})]},x)),e.jsx(I,{sx:{my:3}}),e.jsxs(s,{variant:"h6",fontWeight:600,sx:{mb:2},children:[e.jsx(We,{sx:{mr:1,verticalAlign:"middle"}}),"Your Consent Choices"]}),e.jsx(de,{sx:{borderRadius:2,mb:2},children:e.jsxs(pe,{children:[e.jsx(T,{control:e.jsx(N,{checked:t.essential,disabled:!0}),label:e.jsxs(m,{children:[e.jsxs(s,{fontWeight:600,children:["Essential Services ",e.jsx(J,{label:"Required",size:"small",color:"primary",sx:{ml:1}})]}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Required for login, bill view/pay, complaint registration"})]})}),e.jsx(I,{sx:{my:1}}),e.jsx(T,{control:e.jsx(N,{checked:t.analytics,onChange:()=>l("analytics")}),label:e.jsxs(m,{children:[e.jsx(s,{fontWeight:600,children:"Usage Analytics & Recommendations"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Consumption analysis, peer comparison, AI saving tips"})]})}),e.jsx(I,{sx:{my:1}}),e.jsx(T,{control:e.jsx(N,{checked:t.communications,onChange:()=>l("communications")}),label:e.jsxs(m,{children:[e.jsx(s,{fontWeight:600,children:"SMS & Email Notifications"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Bill reminders, outage alerts, scheme notifications"})]})})]})}),e.jsx(T,{control:e.jsx(N,{checked:t.allRead,onChange:()=>l("allRead")}),label:e.jsx(s,{variant:"body2",children:"I have read and understood the data collection practices above"}),sx:{mb:2}}),e.jsx(m,{sx:{display:"flex",gap:2,mb:4},children:e.jsx(H,{variant:"contained",size:"large",onClick:g,disabled:!t.allRead,fullWidth:!0,children:"Save Preferences"})}),e.jsx(I,{sx:{my:3}}),e.jsxs(X,{sx:{p:3,borderRadius:2,border:"1px solid",borderColor:"error.light",bgcolor:"error.50"},children:[e.jsxs(s,{variant:"h6",fontWeight:600,color:"error.main",gutterBottom:!0,children:[e.jsx(Q,{sx:{mr:1,verticalAlign:"middle"}}),"Request Data Deletion"]}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Under DPDP Act 2023, you have the right to request erasure of your personal data. This will:"}),e.jsxs(m,{component:"ul",sx:{pl:2,mb:2},children:[e.jsx("li",{children:e.jsx(s,{variant:"body2",children:"Delete all personal identification data"})}),e.jsx("li",{children:e.jsx(s,{variant:"body2",children:"Anonymize your billing and complaint history"})}),e.jsx("li",{children:e.jsx(s,{variant:"body2",children:"Remove all consumption analytics"})})]}),p?e.jsxs(O,{severity:"success",sx:{borderRadius:2},children:["âœ… Data deletion request submitted. You will receive confirmation at your registered email within 72 hours. Reference: DEL-",Date.now().toString().slice(-8)]}):e.jsx(H,{variant:"outlined",color:"error",startIcon:e.jsx(Q,{}),onClick:P,children:"Request My Data Deletion"})]})]})};export{ze as default};
//# sourceMappingURL=ConsentPage-C-juTgPZ.js.map
